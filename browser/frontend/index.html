<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>üõù Hery - Playground üõù</title>
        <link rel="stylesheet" href="assets/library/node_modules/@patternfly/patternfly/patternfly.min.css">
        <!--<link rel="stylesheet" href="assets/library/node_modules/@patternfly/patternfly/patternfly-addons.css">-->
        <link rel="stylesheet" href="assets/style.css">
    </head>
    <body>

        <div x-data="tabSystem()" class="pf-v6-l-stack">
            <!-- ################################### -->
            <!-- ############## Header ############# -->
            <!-- ################################### -->
            <header class="pf-v6-l-stack__item">
                <div class="pf-v6-c-tabs pf-m-box" role="region" id="box-tabs">
                    <h1 class="pf-v6-c-title pf-m-4xl">Hery - Playground üõù</h1>
                    <ul class="pf-v6-c-tabs__list" role="tablist">
                        <li class="pf-v6-c-tabs__item" :class="{'pf-m-current': activeTab === 'eql'}" role="presentation">
                            <a
                                type="button"
                                class="pf-v6-c-tabs__link"
                                role="tab"
                                id="box-tabs-eql-link"
                                href="#tabs-eql"
                                @click.prevent="setTab('eql')"
                            >
                                <span class="pf-v6-c-tabs__item-text">EQL - Entity Query Language</span>
                            </a>
                        </li>
                        <li class="pf-v6-c-tabs__item" :class="{'pf-m-current': activeTab === 'hery-file'}" role="presentation">
                            <a
                                type="button"
                                class="pf-v6-c-tabs__link"
                                role="tab"
                                id="box-tabs-hery-file-link"
                                href="#tabs-hery-file"
                                @click.prevent="setTab('hery-file')"
                            >
                                <span class="pf-v6-c-tabs__item-text">HERY file</span>
                            </a>
                        </li>
                        <li class="pf-v6-c-tabs__item" :class="{'pf-m-current': activeTab === 'cache'}" role="presentation">
                            <a
                                type="button"
                                class="pf-v6-c-tabs__link"
                                role="tab"
                                id="box-tabs-cache-link"
                                href="#tabs-cache"
                                @click.prevent="setTab('cache')"
                            >
                                <span class="pf-v6-c-tabs__item-text">Cache</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </header>

            <!-- ################################### -->
            <!-- ############# Middle ############## -->
            <!-- ################################### -->
            <main class="pf-v6-l-stack__item pf-m-fill pf-v6-l-split" x-html="currentContent"></main>

            <!-- ################################### -->
            <!-- ############## Footer ############## -->
            <!-- ################################### -->
            <footer class="pf-v6-l-stack__item">&copy; Amadla üê∞</footer>
        </div>

        <template id="screen-loader">
            <div class="pf-v6-l-split__item pf-m-fill">
                <div class="pf-v6-l-bullseye">
                    <div class="pf-v6-l-bullseye__item" style="border: none">
                        <svg
                                class="pf-v6-c-spinner"
                                role="progressbar"
                                viewBox="0 0 100 100"
                                aria-label="Loading..."
                        >
                            <circle class="pf-v6-c-spinner__path" cx="50" cy="50" r="45" fill="none" />
                        </svg>
                    </div>
                </div>
            </div>
        </template>

        <template id="tab-eql-editor">
            <div class="pf-v6-l-split__item">content</div>
            <div class="pf-v6-l-split__item pf-m-fill">EQL</div>
            <div class="pf-v6-l-split__item">content</div>
        </template>

        <template id="tab-hery-file-editor">
            <div class="pf-v6-l-split__item">content</div>
            <div class="pf-v6-l-split__item pf-m-fill">HERY</div>
            <div class="pf-v6-l-split__item">content</div>
        </template>

        <template id="tab-cache-editor">
            <div class="pf-v6-l-split__item">content</div>
            <div class="pf-v6-l-split__item pf-m-fill">CACHE</div>
            <div class="pf-v6-l-split__item">content</div>
        </template>

        <!--<script src="assets/library/node_modules/monaco-editor/min/vs/loader.js"></script>
        <script src="assets/library/node_modules/sql.js/dist/sql-wasm.js"></script>
        <script src="assets/hery.editor.js"></script>-->
        <!--<script src="assets/eql.editor.js"></script>-->
        <!--<script src="assets/cache.editor.js"></script>
        <script src="assets/wasm_exec.js"></script>
        <script src="assets/ux.js"></script>
        <script src="assets/editor.js"></script>-->
        <script>
            function tabSystem() {
                return {
                    activeTab: 'eql', // Default tab
                    currentContent: '',

                    init() {
                        // Show spinner initially
                        this.currentContent = document.getElementById('screen-loader').innerHTML;

                        // Simulate loading delay
                        setTimeout(() => {
                            this.setTab(this.activeTab);
                        }, 2000); // Adjust delay as necessary
                    },

                    setTab(tab) {
                        this.activeTab = tab;
                        const templateId = `tab-${tab}-editor`;
                        const template = document.getElementById(templateId);

                        this.currentContent = template ? template.innerHTML : '<p>Content not found!</p>';
                    }
                };
            }
        </script>

        <script src="assets/library/node_modules/alpinejs/dist/cdn.min.js"></script>
    </body>
</html>
