<!DOCTYPE html>
<html lang="en" x-data="theme" :class="{'pf-v6-theme-dark': theme === 'dark'}">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>üõù Hery - Playground üõù</title>
        <link rel="stylesheet" href="assets/library/node_modules/@patternfly/patternfly/patternfly.min.css">
        <link rel="stylesheet" href="assets/library/node_modules/@patternfly/patternfly/patternfly-addons.css">
        <link rel="stylesheet" href="assets/style.css">
    </head>
    <body>

        <div x-data="tabSystem()" class="pf-v6-l-stack">
            <!-- ################################### -->
            <!-- ############## Header ############# -->
            <!-- ################################### -->
            <header class="pf-v6-l-stack__item">
                <div class="pf-v6-c-tabs pf-m-box" role="region" id="box-tabs">
                    <h1 class="pf-v6-c-title pf-m-4xl">Hery - Playground üõù</h1>
                    <ul class="pf-v6-c-tabs__list" role="tablist">
                        <li class="pf-v6-c-tabs__item" :class="{'pf-m-current': activeTab === 'hery'}" role="presentation">
                            <a
                                type="button"
                                class="pf-v6-c-tabs__link"
                                role="tab"
                                id="box-tabs-hery-file-link"
                                href="#tabs-hery"
                                @click.prevent="setTab('hery')"
                            >
                                <span class="pf-v6-c-tabs__item-text">HERY file</span>
                            </a>
                        </li>
                        <li class="pf-v6-c-tabs__item" :class="{'pf-m-current': activeTab === 'cache'}" role="presentation">
                            <a
                                type="button"
                                class="pf-v6-c-tabs__link"
                                role="tab"
                                id="box-tabs-cache-link"
                                href="#tabs-cache"
                                @click.prevent="setTab('cache')"
                            >
                                <span class="pf-v6-c-tabs__item-text">Cache</span>
                            </a>
                        </li>
                        <li class="pf-v6-c-tabs__item" :class="{'pf-m-current': activeTab === 'upload'}" role="presentation">
                            <a
                                type="button"
                                class="pf-v6-c-tabs__link"
                                role="tab"
                                id="box-tabs-eql-link"
                                href="#tabs-eql"
                                @click.prevent="setTab('upload')"
                            >
                                <span class="pf-v6-c-tabs__item-text">Upload</span>
                            </a>
                        </li>
                    </ul>
                    <div style="margin: auto .3em auto auto">
                        <div class="pf-v6-c-toolbar__content">
                            <div class="pf-v6-c-toolbar__content-section">
                                <div class="pf-v6-c-toolbar__group pf-m-align-end">
                                    <div class="pf-v6-c-toolbar__item">
                                        <div class="pf-v6-c-toggle-group" role="group" aria-label="Dark theme toggle group">
                                            <div class="pf-v6-c-toggle-group__item">
                                                <button
                                                        type="button"
                                                        class="pf-v6-c-toggle-group__button pf-m-selected"
                                                        :aria-pressed="theme === 'light'"
                                                        aria-label="light theme toggle"
                                                        :class="{'pf-m-selected': theme === 'light'}"
                                                        @click="setTheme('light')">
                                                    <span class="pf-v6-c-toggle-group__icon">
                                                        <svg class="pf-v6-svg" viewBox="0 0 512 512" fill="currentColor" aria-hidden="true" role="img" width="1em" height="1em">
                                                            <path d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"></path>
                                                        </svg>
                                                    </span>
                                                </button>
                                            </div>
                                            <div class="pf-v6-c-toggle-group__item">
                                                <button
                                                        type="button"
                                                        class="pf-v6-c-toggle-group__button"
                                                        :aria-pressed="theme === 'dark'"
                                                        aria-label="dark theme toggle"
                                                        :class="{'pf-m-selected': theme === 'dark'}"
                                                        @click="setTheme('dark')">
                                                    <span class="pf-v6-c-toggle-group__icon">
                                                        <svg class="pf-v6-svg" viewBox="0 0 512 512" fill="currentColor" aria-hidden="true" role="img" width="1em" height="1em">
                                                            <path d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"></path>
                                                        </svg>
                                                    </span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- ################################### -->
            <!-- ############# Middle ############## -->
            <!-- ################################### -->
            <main class="pf-v6-l-stack__item pf-m-fill pf-v6-l-split" x-data="filesTabs()">
                <!--<div class="pf-v6-l-split__item pf-m-fill main-spinner">
                    <div class="pf-v6-l-bullseye">
                        <div class="pf-v6-l-bullseye__item" style="border: none">
                            <svg
                                    class="pf-v6-c-spinner"
                                    role="progressbar"
                                    viewBox="0 0 100 100"
                                    aria-label="Loading..."
                            >
                                <circle class="pf-v6-c-spinner__path" cx="50" cy="50" r="45" fill="none" />
                            </svg>
                        </div>
                    </div>
                </div>-->

                <div class="pf-v6-l-split__item" :class="{'tab-content': activeTab !== 'hery'}">
                    <div class="pf-v6-c-tabs pf-m-vertical" role="region" id="vertical-tabs-hery">
                        <ul class="pf-v6-c-tabs__list" role="tablist">
                            <!--<template x-for="file in files" :key="file.id">
                                <li class="pf-v6-c-tabs__item pf-m-current" role="presentation">
                                    <button
                                            type="button"
                                            class="pf-v6-c-tabs__link"
                                            role="tab"
                                            :id="'hery-file-' + file.cleanName"
                                    >
                                        <span class="pf-v6-c-tabs__item-text" x-text="file.name"></span>
                                    </button>
                                </li>
                            </template>-->
                            <template x-for="file in files" :key="file.id">
                                <li class="pf-v6-c-tabs__item pf-m-current" role="presentation">
                                    <button
                                            type="button"
                                            class="pf-v6-c-tabs__link"
                                            role="tab"
                                            :id="'hery-file-' + file.cleanName"
                                    >
                                        <span class="pf-v6-c-tabs__item-text" x-text="file.name"></span>
                                    </button>
                                </li>
                            </template>
                        </ul>
                    </div>
                </div>

                <div class="pf-v6-l-split__item pf-m-fill" :class="{'tab-content': activeTab !== 'hery'}">
                    <div id="hery-editor" style="width:100%;height:100%;"></div>
                </div>

                <div class="pf-v6-l-split__item" :class="{'tab-content': activeTab !== 'cache'}">
                    <div class="pf-v6-c-tabs pf-m-vertical" role="region" id="vertical-tabs-cache">
                        <ul class="pf-v6-c-tabs__list" role="tablist">
                            <li class="pf-v6-c-tabs__item" role="presentation">
                                <button
                                        type="button"
                                        class="pf-v6-c-tabs__link"
                                        role="tab"
                                        id="vertical-tabs-users-link"
                                >
                                    <span class="pf-v6-c-tabs__item-text">Users</span>
                                </button>
                            </li>
                            <li class="pf-v6-c-tabs__item pf-m-current" role="presentation">
                                <button
                                        type="button"
                                        class="pf-v6-c-tabs__link"
                                        role="tab"
                                        id="vertical-tabs-containers-link"
                                >
                                    <span class="pf-v6-c-tabs__item-text">Containers</span>
                                </button>
                            </li>
                            <li class="pf-v6-c-tabs__item" role="presentation">
                                <button
                                        type="button"
                                        class="pf-v6-c-tabs__link"
                                        role="tab"
                                        id="vertical-tabs-database-link"
                                >
                                    <span class="pf-v6-c-tabs__item-text">Database</span>
                                </button>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="pf-v6-l-split__item pf-m-fill" :class="{'tab-content': activeTab !== 'cache'}">
                    <table
                            class="pf-v6-c-table pf-m-grid-lg"
                            role="grid"
                            aria-label="This is a sortable table example"
                            id="table-sortable"
                    >
                        <thead class="pf-v6-c-table__thead">
                        <tr
                                class="pf-v6-c-table__tr"
                                role&#x26;#x3D;&#x26;quot;row&#x26;quot;
                                [object
                                Object]
                        >
                            <th
                                    class="pf-v6-c-table__th pf-v6-c-table__check"
                                    aria-label="Row select"
                                    role="columnheader"
                                    scope="col"
                            >
                                <label
                                        class="pf-v6-c-check pf-m-standalone"
                                        for="table-compact-checkrow-thead-check-input"
                                >
                                    <input
                                            class="pf-v6-c-check__input"
                                            type="checkbox"
                                            id="table-compact-checkrow-thead-check-input-second"
                                            name="table-compact-checkrow-thead-check-input"
                                            aria-label="Select all rows"
                                    />
                                </label>
                            </th>
                            <th
                                    class="pf-v6-c-table__th pf-v6-c-table__sort pf-m-selected"
                                    role="columnheader"
                                    aria-sort="ascending"
                                    scope="col"
                            >
                                <button class="pf-v6-c-table__button">
                      <span class="pf-v6-c-table__button-content">
                        <span class="pf-v6-c-table__text">Repositories</span>
                        <span class="pf-v6-c-table__sort-indicator">
                          <i class="fas fa-long-arrow-alt-up"></i>
                        </span>
                      </span>
                                </button>
                            </th>

                            <th
                                    class="pf-v6-c-table__th pf-v6-c-table__sort pf-m-help"
                                    role="columnheader"
                                    aria-sort="none"
                                    scope="col"
                            >
                                <div class="pf-v6-c-table__column-help">
                                    <button class="pf-v6-c-table__button">
                        <span class="pf-v6-c-table__button-content">
                          <span class="pf-v6-c-table__text">Branches</span>
                          <span class="pf-v6-c-table__sort-indicator">
                            <i class="fas fa-arrows-alt-v"></i>
                          </span>
                        </span>
                                    </button>
                                    <span class="pf-v6-c-table__column-help-action">
                        <button
                                class="pf-v6-c-button pf-m-no-padding pf-m-plain"
                                type="button"
                                aria-label="aria-label&#x3D;&quot;More info&quot;"
                        >
                          <span class="pf-v6-c-button__icon">
                            <i class="fas fa-question-circle" aria-hidden="true"></i>
                          </span>
                        </button>
                      </span>
                                </div>
                            </th>

                            <th
                                    class="pf-v6-c-table__th pf-v6-c-table__sort"
                                    role="columnheader"
                                    aria-sort="none"
                                    scope="col"
                            >
                                <button class="pf-v6-c-table__button">
                      <span class="pf-v6-c-table__button-content">
                        <span class="pf-v6-c-table__text">Pull requests</span>
                        <span class="pf-v6-c-table__sort-indicator">
                          <i class="fas fa-arrows-alt-v"></i>
                        </span>
                      </span>
                                </button>
                            </th>

                            <th class="pf-v6-c-table__th" role="columnheader" scope="col">Workspaces</th>

                            <th class="pf-v6-c-table__th pf-m-help" role="columnheader" scope="col">
                                <div class="pf-v6-c-table__column-help">
                                    <span class="pf-v6-c-table__text">Last commit</span>
                                    <span class="pf-v6-c-table__column-help-action">
                        <button
                                class="pf-v6-c-button pf-m-no-padding pf-m-plain"
                                type="button"
                                aria-label="aria-label&#x3D;&quot;More info&quot;"
                        >
                          <span class="pf-v6-c-button__icon">
                            <i class="fas fa-question-circle" aria-hidden="true"></i>
                          </span>
                        </button>
                      </span>
                                </div>
                            </th>

                            <th></th>
                        </tr>
                        </thead>

                        <tbody class="pf-v6-c-table__tbody" role="rowgroup">
                        <tr
                                class="pf-v6-c-table__tr"
                                role&#x26;#x3D;&#x26;quot;row&#x26;quot;
                                [object
                                Object]
                        >
                            <td class="pf-v6-c-table__td pf-v6-c-table__check" aria-label="Check row">
                                <label
                                        class="pf-v6-c-check pf-m-standalone"
                                        for="table-compact-checkrow-1-check-input-second"
                                >
                                    <input
                                            class="pf-v6-c-check__input"
                                            type="checkbox"
                                            id="table-compact-checkrow-1-check-input-second-one"
                                            name="table-compact-checkrow-1-check-input"
                                            aria-label="Select row"
                                    />
                                </label>
                            </td>
                            <td
                                    class="pf-v6-c-table__td"
                                    role="cell"
                                    data-label="Repository name"
                            >Repository 1</td>
                            <td class="pf-v6-c-table__td" role="cell" data-label="Branches">10</td>
                            <td class="pf-v6-c-table__td" role="cell" data-label="Pull requests">25</td>
                            <td class="pf-v6-c-table__td" role="cell" data-label="Workspaces">5</td>
                            <td
                                    class="pf-v6-c-table__td"
                                    role="cell"
                                    data-label="Last commit"
                            >2 days ago</td>
                        </tr>

                        <tr
                                class="pf-v6-c-table__tr"
                                role&#x26;#x3D;&#x26;quot;row&#x26;quot;
                                [object
                                Object]
                        >
                            <td class="pf-v6-c-table__td pf-v6-c-table__check" aria-label="Check row">
                                <label
                                        class="pf-v6-c-check pf-m-standalone"
                                        for="table-compact-checkrow-1-check-input"
                                >
                                    <input
                                            class="pf-v6-c-check__input"
                                            type="checkbox"
                                            id="table-compact-checkrow-1-check-input-second-two"
                                            name="table-compact-checkrow-1-check-input"
                                            aria-label="Select row"
                                    />
                                </label>
                            </td>
                            <td
                                    class="pf-v6-c-table__td"
                                    role="cell"
                                    data-label="Repository name"
                            >Repository 2</td>
                            <td class="pf-v6-c-table__td" role="cell" data-label="Branches">10</td>
                            <td class="pf-v6-c-table__td" role="cell" data-label="Pull requests">25</td>
                            <td class="pf-v6-c-table__td" role="cell" data-label="Workspaces">5</td>
                            <td
                                    class="pf-v6-c-table__td"
                                    role="cell"
                                    data-label="Last commit"
                            >2 days ago</td>
                            <td class="pf-v6-c-table__td pf-v6-c-table__action">
                                <button
                                        class="pf-v6-c-menu-toggle pf-m-plain pf-m-small"
                                        type="button"
                                        aria-expanded="false"
                                        aria-label="Menu toggle"
                                >
                      <span class="pf-v6-c-menu-toggle__icon">
                        <i class="fas fa-ellipsis-v" aria-hidden="true"></i>
                      </span>
                                </button>
                            </td>
                        </tr>

                        <tr
                                class="pf-v6-c-table__tr"
                                role&#x26;#x3D;&#x26;quot;row&#x26;quot;
                                [object
                                Object]
                        >
                            <td class="pf-v6-c-table__td pf-v6-c-table__check" aria-label="Check row">
                                <label
                                        class="pf-v6-c-check pf-m-standalone"
                                        for="table-compact-checkrow-1-check-input"
                                >
                                    <input
                                            class="pf-v6-c-check__input"
                                            type="checkbox"
                                            id="table-compact-checkrow-1-check-input-second-three"
                                            name="table-compact-checkrow-1-check-input"
                                            aria-label="Select row"
                                    />
                                </label>
                            </td>
                            <td
                                    class="pf-v6-c-table__td"
                                    role="cell"
                                    data-label="Repository name"
                            >Repository 3</td>
                            <td class="pf-v6-c-table__td" role="cell" data-label="Branches">10</td>
                            <td class="pf-v6-c-table__td" role="cell" data-label="Pull requests">25</td>
                            <td class="pf-v6-c-table__td" role="cell" data-label="Workspaces">5</td>
                            <td
                                    class="pf-v6-c-table__td"
                                    role="cell"
                                    data-label="Last commit"
                            >2 days ago</td>
                            <td class="pf-v6-c-table__td pf-v6-c-table__action">
                                <button
                                        class="pf-v6-c-menu-toggle pf-m-plain pf-m-small"
                                        type="button"
                                        aria-expanded="false"
                                        aria-label="Menu toggle"
                                >
                      <span class="pf-v6-c-menu-toggle__icon">
                        <i class="fas fa-ellipsis-v" aria-hidden="true"></i>
                      </span>
                                </button>
                            </td>
                        </tr>

                        <tr
                                class="pf-v6-c-table__tr"
                                role&#x26;#x3D;&#x26;quot;row&#x26;quot;
                                [object
                                Object]
                        >
                            <td class="pf-v6-c-table__td pf-v6-c-table__check" aria-label="Check row">
                                <label
                                        class="pf-v6-c-check pf-m-standalone"
                                        for="table-compact-checkrow-1-check-input"
                                >
                                    <input
                                            class="pf-v6-c-check__input"
                                            type="checkbox"
                                            id="table-compact-checkrow-1-check-input-second-four"
                                            name="table-compact-checkrow-1-check-input"
                                            aria-label="Select row"
                                    />
                                </label>
                            </td>
                            <td
                                    class="pf-v6-c-table__td"
                                    role="cell"
                                    data-label="Repository name"
                            >Repository 4</td>
                            <td class="pf-v6-c-table__td" role="cell" data-label="Branches">10</td>
                            <td class="pf-v6-c-table__td" role="cell" data-label="Pull requests">25</td>
                            <td class="pf-v6-c-table__td" role="cell" data-label="Workspaces">5</td>
                            <td
                                    class="pf-v6-c-table__td"
                                    role="cell"
                                    data-label="Last commit"
                            >2 days ago</td>
                            <td class="pf-v6-c-table__td pf-v6-c-table__action">
                                <button
                                        class="pf-v6-c-menu-toggle pf-m-plain pf-m-small"
                                        type="button"
                                        aria-expanded="false"
                                        aria-label="Menu toggle"
                                >
                      <span class="pf-v6-c-menu-toggle__icon">
                        <i class="fas fa-ellipsis-v" aria-hidden="true"></i>
                      </span>
                                </button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="pf-v6-l-split__item pf-m-fill pf-v6-u-p-xl" :class="{'tab-content': activeTab !== 'upload'}">
                    <div class="pf-v6-c-multiple-file-upload pf-m-drag-over" id="dropzone">
                        <div class="pf-v6-c-multiple-file-upload__main">
                            <div class="pf-v6-c-multiple-file-upload__title">
                                <div class="pf-v6-c-multiple-file-upload__title-icon">
                                    <i class="fas fa-upload" aria-hidden="true"></i>
                                </div>
                                <div class="pf-v6-c-multiple-file-upload__title-text">
                                    Drag and drop files here
                                    <div class="pf-v6-c-multiple-file-upload__title-text-separator">or</div>
                                </div>
                            </div>
                            <div class="pf-v6-c-multiple-file-upload__upload">
                                <button class="pf-v6-c-button pf-m-secondary" type="button" @click="$refs.fileInput.click()">
                                    <span class="pf-v6-c-button__text">Upload</span>
                                </button>
                                <!--<input type="file" x-ref="fileInput" @change="readFile" accept=".yaml,.yml,.hery,.db,.cache" style="display:none">-->
                                <input type="file" @change="readFile($event)" style="display: none;" x-ref="fileInput" accept=".yaml,.yml,.db,.hery" />
                            </div>
                            <div
                                    class="pf-v6-c-multiple-file-upload__info"
                            >Accepted file types: HERY, YAML, HERY cache file</div>
                        </div>
                    </div>
                </div>

                <div class="pf-v6-l-split__item">
                    <div id="output-editor" style="width:500px;height:100%;border-left:1px solid grey"></div>
                </div>
            </main>

            <div class="pf-v6-l-stack__item" style="height:60px;border-top:1px solid grey;">
                <div id="eql-editor" style="width:100%;height:100%;"></div>
            </div>

            <!-- ################################### -->
            <!-- ############## Footer ############## -->
            <!-- ################################### -->
            <footer class="pf-v6-l-stack__item" style="border-top:1px solid grey;">&copy; Amadla üê∞</footer>
        </div>

        <!-- Dropzone for the SQLite database -->
        <!--<div id="dropzone" style="width: 400px; height: 400px; border: 2px dashed #ccc;">
            Drag and drop your SQLite .db file here.
        </div>-->

        <script src="assets/library/node_modules/monaco-editor/min/vs/loader.js"></script>
        <script src="assets/library/node_modules/sql.js/dist/sql-wasm.js"></script>
        <script src="assets/hery.editor.js"></script>
        <!--<script src="assets/eql.editor.js"></script>-->
        <!--<script src="assets/cache.editor.js"></script>-->
        <script src="assets/wasm_exec.js"></script>
        <script src="assets/ux.js"></script>
        <script src="assets/editor.js"></script>
        <script src="assets/library/node_modules/alpinejs/dist/cdn.min.js"></script>
    </body>
</html>
